<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>code/caffeine | Wordjunk</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=generator content="Hugo 0.95.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link href=/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css rel=stylesheet><meta property="og:title" content="Wordjunk"><meta property="og:description" content="I started a project I’m calling WordJunk. On of the inspirations is Merlin Mann’s Wisdom Project. Listening to Reconcilable Differences, I was inspired by the sheer joy Merlin has been getting with this project. The nuggets of wisdom are really fun to read and most bring a smile ot my face.
With WordJunk, I wondered what I can do with this information? A lot? A little? In any case, the wisdom nuggets are something interesting to read while I’m debugging or reading developer documentation."><meta property="og:type" content="article"><meta property="og:url" content="http://codecaffeine.com/blog/wordjunk/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-01-22T17:25:40-05:00"><meta property="article:modified_time" content="2022-01-22T17:25:40-05:00"><meta itemprop=name content="Wordjunk"><meta itemprop=description content="I started a project I’m calling WordJunk. On of the inspirations is Merlin Mann’s Wisdom Project. Listening to Reconcilable Differences, I was inspired by the sheer joy Merlin has been getting with this project. The nuggets of wisdom are really fun to read and most bring a smile ot my face.
With WordJunk, I wondered what I can do with this information? A lot? A little? In any case, the wisdom nuggets are something interesting to read while I’m debugging or reading developer documentation."><meta itemprop=datePublished content="2022-01-22T17:25:40-05:00"><meta itemprop=dateModified content="2022-01-22T17:25:40-05:00"><meta itemprop=wordCount content="688"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Wordjunk"><meta name=twitter:description content="I started a project I’m calling WordJunk. On of the inspirations is Merlin Mann’s Wisdom Project. Listening to Reconcilable Differences, I was inspired by the sheer joy Merlin has been getting with this project. The nuggets of wisdom are really fun to read and most bring a smile ot my face.
With WordJunk, I wondered what I can do with this information? A lot? A little? In any case, the wisdom nuggets are something interesting to read while I’m debugging or reading developer documentation."></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=http://codecaffeine.com/ class="f3 fw2 hover-white no-underline white-90 dib">code/caffeine</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/blog/ title="Archives page">Archives</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/contact/ title="Contact page">Contact</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/resume/ title="Resume page">Resume</a></li></ul><a href=https://twitter.com/mthomas target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://www.linkedin.com/in/matthew-thomas-78643026/ target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/codecaffeine target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><p class="f6 b helvetica tracked">BLOGS</p><h1 class="f1 athelas mb1">Wordjunk</h1><time class="f6 mv4 dib tracked" datetime=2022-01-22T17:25:40-05:00>January 22, 2022</time></header><section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>I started a project I’m calling WordJunk. On of the inspirations is <a href=https://github.com/merlinmann/wisdom>Merlin Mann’s Wisdom Project</a>. Listening to <a href=https://www.relay.fm/rd/173>Reconcilable Differences</a>, I was inspired by the sheer joy Merlin has been getting with this project. The nuggets of wisdom are really fun to read and most bring a smile ot my face.</p><p>With WordJunk, I wondered what I can do with this information? A lot? A little? In any case, the wisdom nuggets are something interesting to read while I’m debugging or reading developer documentation. My first task is to show a list with each wisdom item as it’s own row</p><p>I call this WordJunk because it reminds me that my goal isn’t to make something perfect. Also, I love the term <em>“<a href=https://en.wikipedia.org/wiki/Chartjunk>Chartjunk</a>”</em>.</p><h2 id=parsing-markdown>Parsing Markdown</h2><p>The first job is get the markdown in a form that I can do something with. Not all the data is useful or something to render. I’ve been curious about Apple’s swift-markdown package for a while and this might be an interesting job for this project.</p><p>First, I saved the the file to a markdown document that I build into the app. I could have read it from <a href=/images/internet.gif>the internet</a> But I’m trying to keep this small and focused. Maybe down the road I’ll do that, but I don’t want to distract.</p><p>The second thing I’m doing is importing <a href=https://github.com/apple/swift-markdown>swift-markdown</a>. I know there are a lot of libraries out there to parse markdown. I chose Apple’s library because sometimes the projects Apple creates end up being more adopted than others. It’s still an early project so the documentation wasn’t as robust as I’d have liked, but there was just enough to get me started.</p><p>I also relied on <a href=https://github.com/christianselig/Markdownosaur/>Markdownosaur</a>, by <a href=https://christianselig.com>Christian Selig</a>, author of <a href=https://apolloapp.io>Apollo</a>. It’s a cool little project to turn markdown into an <code>NSAttributedString</code>. I definitely recommend folks take a look at it.</p><p>I looked at Merlin’s markdown structure to <a href=/images/wheat-chaff.gif>separate</a> the wisdom snippets from everything else. My basic determination was to use each unordered list, and the corresponding list item was a wisdom snippet. The only caveat is that the first unordered list is the equivalent of a EULA. Some day I might work on figuring out how to address that.</p><p>What ended up working best for me was to create a <code>MarkdownWalker</code> that only matches on <code>UnorderedList</code> and for each of the <code>listItems</code> it formats the children using thhe <code>format()</code> method. It’s a very simple function, but it seems to work well with the Wisdom markdown without too many issues:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>ListBuilder</span>: MarkupWalker {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> quotes = [String]()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>mutating</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>visitUnorderedList</span>(<span style=color:#66d9ef>_</span> unorderedList: UnorderedList) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> item <span style=color:#66d9ef>in</span> unorderedList.listItems {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> string = item.children.reduce(<span style=color:#e6db74>&#34;&#34;</span>) { partialResult, markup <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>                partialResult <span style=color:#f92672>+</span> markup.format()
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>		    quotes.append(string.trimmingCharacters(<span style=color:#66d9ef>in</span>: .whitespacesAndNewlines))
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=rich-text>Rich Text</h2><p>Because the wisdom document makes good use of rich text in Markdown, I wanted to support this as well. I waffled between using Markdownosaur vs. the Swift native <code>AttributedString</code> support. I decided to lean on the Swift <code>AttributedString</code> support because I was not going to be supporting anything other than iOS 15 and it works well with the native <code>Text()</code> element in SwiftUI.</p><p>A caveat with creating an AttributedString from markdown is that it could fail. Since I’m working at the ViewLayer to parse the markdown, I decided to leave sample text in the case that the markdown failed parsing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>attributedText</span>(markdown: String) -&gt; Text {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>do</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> attributedString = <span style=color:#66d9ef>try</span> AttributedString(markdown: markdown)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> Text(attributedString)
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> Text(<span style=color:#e6db74>&#34;Cannot Parse String&#34;</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=whats-next>What’s next</h2><p>Overall, I’m fairly happy with how this turned out with minimum effort. One nice thing (visible in the screenshot) is that it supports markdown links. Tapping on that blue text opens the browser. It also supports bold, italic, both, and monospaced text.</p><p>Where do I go from here? I have a couple ideas including creating a widget, saving favorites, reading form the online repo, using other sources. I might do some of those, or none of those. I’m treating this as a playground, not work. Borrowing from Merlin’s thoughts on the wisdom project: I’m planning on playing in the space while it’s still fun.</p><p><img src=/images/wisdom-screenshot.png alt="Screenshot showing finished product"></p><ul class=pa0></ul><div class=mt6></div></section><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://codecaffeine.com/>&copy; 2022 code/caffeine</a><div><a href=https://twitter.com/mthomas target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://www.linkedin.com/in/matthew-thomas-78643026/ target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/codecaffeine target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></footer><script src=/dist/js/app.3fc0f988d21662902933.js></script></body></html>